<div class="modal-header">
    <h3>Delete Dataset</h3>
</div>
<div class="modal-body">
  <h5><b>Title:</b> {{modal.dataSet.title}}</h5>
  <h5><b>Total Files:</b> {{modal.dataSet.file_count}}</h5>
  <div ng-if="modal.dataSet.analyses.length != 0">
    <p ng-if="modal.deletionMessage == null" class="deletion-message">
      <b>The following {{ modal.dataSet.analyses.length }} Analyses will be
        deleted!</b>
    </p>
    <p ng-if="modal.deletionMessage != null" class="deletion-message">
      <b>The following {{ modal.dataSet.analyses.length }} Analyses have successfully been deleted!</b>
    </p>
    <div id="related-analyses">
      <ul>
        <li ng-if="modal.deletionMessage == null"
        ng-repeat="analysis in modal.dataSet.analyses">
          <span class="spinner">
            <i
              class="analyses-status {{ analysis.status | analysisStatusIcon }}"
              title="{{ analysis.status | analysisStatusTitle }}"
              refinery-tooltip refinery-tooltip-placement="top">
            </i>
          </span>
          <span ng-switch on="analysis.status">
            <span ng-if="SUCCESS">
              <a
              ng-href="/data_sets/{{modal.dataSet.uuid}}/analysis/{{analysis
              .uuid}}">
              {{ analysis.name }}
            </a>
            </span>
            <span ng-if="!SUCCESS">
              <a
              ng-href="/data_sets/{{modal.dataSet.uuid}}/#/analyses">
              {{ analysis.name }}
            </a>
            </span>
          </span>
        </li>
        <li ng-if="modal.deletionMessage != null"
        ng-repeat="analysis in modal.dataSet.analyses">
          <span class="spinner">
              <i
                class="analyses-status {{ analysis.status | analysisStatusIcon }}"
                title="{{ analysis.status | analysisStatusTitle }}"
                refinery-tooltip refinery-tooltip-placement="top">
              </i>
            </span>
            <span ng-switch on="analysis.status">
              <span ng-if="SUCCESS">
                <a class="no-link">
                {{ analysis.name }}
              </a>
              </span>
              <span ng-if="!SUCCESS">
                <a class="no-link">
                {{ analysis.name }}
              </a>
              </span>
            </span>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="modal-footer">
  <div class="text-align-left">
    <p class="deletion-message" ng-if="modal.deletionMessage != null">
      <b id="deletion-message-text">{{modal.deletionMessage}}</b>
    </p>
    <div class="refinery-spinner" ng-if="modal.isDeleting"></div>
  </div>
  <div class="text-align-right">
    <button
      class="refinery-base btn btn-default"
      ng-if="modal.deletionMessage != null"
      ng-click="modal.cancel()">
      Close
    </button>
    <button id="dataset-delete-cancel-button"
      class="refinery-base btn btn-default"
      ng-if="modal.deletionMessage == null"
      ng-click="modal.cancel()">
      Cancel
    </button>
    <button id="dataset-delete-button"
      class="btn btn-danger"
      ng-if="modal.deletionMessage == null"
      ng-click="modal.delete()">
      Delete
    </button>
  </div>
</div>