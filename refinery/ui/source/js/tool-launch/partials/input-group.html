<div
  class="node-input-group"
  role="tablist"
  aria-multiselectable="true">

  <ul>
     <div ng-if="$ctrl.currentTypes[$ctrl.currentTypes.length-1]=='PAIR'">
      <li
        ng-repeat="inputFile in $ctrl.inputFileTypes track by $index"
        ng-style="{'color': $ctrl.inputFileTypeColor[inputFile.uuid],
        'border-color': $ctrl.inputFileTypeColor[inputFile.uuid]}">
        <span class="wrap-word" ng-if="$ctrl.isGroupPopulated(inputFile.uuid)">
          <div class="refinery-subheader">
            <h4>
              {{ inputFile.name }}
              &nbsp
              <a
                popover-placement="right"
                uib-popover-template="'inputgrouphelppopover.html'"
                popover-title="Input Group File Types"
                popover-trigger="focus"
                popover-append-to-body="true"
                tabindex="0">
                <i class="fa fa-question-circle info-icon icon-only"></i>
              </a>
            </h4>
          </div>
          <span ng-repeat="node in $ctrl.groupCollection[$ctrl.currentGroup][inputFile.uuid]">
            {{ node[$ctrl.attributes.Name] }}
          </span>
        </span>
          <span ng-if="!$ctrl.isGroupPopulated(inputFile.uuid)">
          {{ inputFile.name }}:
          <
          <div
            class='fileTypes'
            ng-repeat="fileObj in inputFile.allowed_filetypes">
            {{fileObj.name}}
            <span ng-if="$index < inputFile.allowed_filetypes.length - 1">
              ,
            </span>
          </div>
          >
          <br>
          <em>{{ inputFile.description }}</em>
        </span>
      </li>
     </div>

    <div ng-if="$ctrl.currentTypes[$ctrl.currentTypes.length-1]=='LIST'">
      <li
        class="wrap-word"
         ng-style="{'color': $ctrl.inputFileTypeColor[$ctrl.inputFileTypes[0].uuid],
        'border-color': $ctrl.inputFileTypeColor[$ctrl.inputFileTypes[0].uuid]}">
        <div ng-if="!$ctrl.isGroupPopulated($ctrl.inputFileTypes[0].uuid)">
          {{ $ctrl.inputFileTypes[0].name }}:
          <
          <div
            class='fileTypes'
            ng-repeat="fileObj in $ctrl.inputFileTypes[0].allowed_filetypes">
            {{fileObj.name}}
            <span ng-if="$index < $ctrl.inputFileTypes[0].allowed_filetypes.length - 1">
              ,
            </span>
          </div>
          >
          <br>
          <em>{{ inputFile.description }}</em>
        </div>
        <div ng-if="$ctrl.isGroupPopulated($ctrl.inputFileTypes[0].uuid)">
           <div class="refinery-subheader">
            <h4>
              {{ inputFile.name }}
            </h4>
          </div>
          <div
            ng-repeat="node in $ctrl.groupCollection[$ctrl.currentGroup][$ctrl.inputFileTypes[0].uuid]"
            class="p-t-1">
            {{ node[$ctrl.attributes.Name] }}
          </div>
        </div>
      </li>
     </div>
  </ul>
  <div
    ng-if="$ctrl.currentTypes[$ctrl.currentTypes.length-1]=='PAIR'">
      <rp-input-group-details></rp-input-group-details>
  </div>
  <div>
    <span ng-if="$ctrl.currentTypes.length > 1">
      <button
        class="btn btn-default btn-xs outline"
        ng-disabled="$ctrl.isObjEmpty($ctrl.groupCollection[$ctrl.currentGroup])"
        ng-click="$ctrl.removeGroup()">
        Remove
      </button>
    </span>
  <button
    class="btn btn-default btn-xs outline"
    ng-disabled="$ctrl.isObjEmpty($ctrl.groupCollection)"
    ng-click="$ctrl.removeAllGroups()">
    Remove All
  </button>
  </div>
</div>

<script type="text/ng-template" id="inputgrouphelppopover.html">
  <div>
    <rp-input-group-help-popover
      display-file='inputFile'
      display-file-color='$ctrl.inputFileTypeColor[inputFile.uuid]'>
    </rp-input-group-help-popover>
  </div>
</script>
